---
  - hosts: all
    become: true
    gather_facts: false
    tasks:
      - name: "Install basic software"
        apt:
          package:
            - htop
            - finger
          state: present

  - hosts: webserver
    become: true
    gather_facts: false
    tasks:
      - name: "create webserver config"
        copy:
          content: "this is a webserver"
          dest: /root/webserver.config
          group: root
          owner: root
          mode: 0555

  - hosts: dbserver
    become: true
    gather_facts: false
    tasks:
      - name: "create database config"
        copy:
          content: "this is a database"
          dest: /root/database.config
          group: root
          owner: root
          mode: 0555
  